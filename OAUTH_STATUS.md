# โ ุชู ุชุญุฏูุซ ูุธุงู OAuth ุจูุฌุงุญ!

## ๐ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุชุญุฏูุซ ุงูุชุทุจูู ุจุงููุงูู ููุฏุนู ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Google ู Facebook:

### ุงูุชุญุฏูุซุงุช ุงููููุฐุฉ:

1. โ **ุฅุตูุงุญ NEXTAUTH_URL**
   - ุชู ุชุญุฏูุซ ุงูุจูุฑุช ูู 3000 ุฅูู 4066 ูู `.env.local`

2. โ **ุชุญุณูู NextAuth Callbacks**
   - ุฅุถุงูุฉ `signIn` callback ูุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู ุงูุณูุฑูุฑ
   - ุฅุถุงูุฉ ุฏุนู ูุญูุธ backend token
   - ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

3. โ **ุชุญุณูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู**
   - ุชุญุณูู ุฏูุงู `handleGoogleSignIn` ู `handleFacebookSignIn`
   - ุฅุถุงูุฉ ุญูุธ ุญุงูุฉ ุงููุณุชุฎุฏู ูู localStorage
   - ุชุญุณูู ุฑุณุงุฆู ุงูุฃุฎุทุงุก ุจุงููุบุฉ ุงูุนุฑุจูุฉ

4. โ **ุฅุถุงูุฉ ุณูุฑูุจุช ุงุฎุชุจุงุฑ**
   - `scripts/test-oauth-config.js` ููุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

5. โ **ุชูุซูู ุดุงูู**
   - `OAUTH_COMPLETE_GUIDE.md` - ุฏููู ูุงูู ููุตู ุฎุทูุฉ ุจุฎุทูุฉ
   - `OAUTH_SETUP.md` - ุฅุนุฏุงุฏ ุณุฑูุน
   - `SERVER_OAUTH_INTEGRATION.md` - ุชูุงูู ุงูุณูุฑูุฑ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ูุชูุนูู OAuth

### ุงูุฎุทูุฉ 1: ุงุญุตู ุนูู Client IDs ู Secrets

#### Google OAuth:
1. ุงุฐูุจ ุฅูู [Google Cloud Console](https://console.cloud.google.com/)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ูุนูู Google+ API
4. ุฃูุดุฆ OAuth Client ID (ููุน: Web Application)
5. ุฃุถู Redirect URI: `http://localhost:4066/api/auth/callback/google`
6. ุงุญูุธ Client ID ู Client Secret

#### Facebook OAuth:
1. ุงุฐูุจ ุฅูู [Facebook Developers](https://developers.facebook.com/)
2. ุฃูุดุฆ ุชุทุจูู ุฌุฏูุฏ (ููุน: Consumer)
3. ุฃุถู Facebook Login product
4. ุฃุถู Redirect URI: `http://localhost:4066/api/auth/callback/facebook`
5. ุงุญูุธ App ID ู App Secret

### ุงูุฎุทูุฉ 2: ุญุฏูุซ ููู .env.local

ุงูุชุญ ููู `.env.local` ูุงุณุชุจุฏู ุงูููู ุงูุงูุชุฑุงุถูุฉ:

```env
# Google OAuth - ุถุน ุงูููู ุงูุญููููุฉ ููุง
GOOGLE_CLIENT_ID=123456789-abcdef.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your_actual_secret

# Facebook OAuth - ุถุน ุงูููู ุงูุญููููุฉ ููุง
FACEBOOK_CLIENT_ID=1234567890123456
FACEBOOK_CLIENT_SECRET=your_actual_facebook_secret
```

### ุงูุฎุทูุฉ 3: ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู

```bash
# ุฃููู ุงูุณูุฑูุฑ ุงูุญุงูู (Ctrl+C ุฃู Cmd+C)
# ุซู ุดุบูู ูู ุฌุฏูุฏ
npm run dev
```

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุฑ OAuth

1. ุงุฐูุจ ุฅูู: http://localhost:4066/signin
2. ุงุถุบุท ุนูู "ุงูุฏุฎูู ุจูุงุณุทุฉ Google" ุฃู "ุงูุฏุฎูู ุจูุงุณุทุฉ Facebook"
3. ุฃููู ุนูููุฉ ุงููุตุงุฏูุฉ

## ๐งช ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

ููููู ุชุดุบูู ุณูุฑูุจุช ุงูุงุฎุชุจุงุฑ ููุชุญูู ูู ุตุญุฉ ุงูุฅุนุฏุงุฏุงุช:

```bash
node scripts/test-oauth-config.js
```

## ๐ ุงูุชูุซูู

ููุญุตูู ุนูู ุชุนูููุงุช ููุตูุฉุ ุฑุงุฌุน:

- **[OAUTH_COMPLETE_GUIDE.md](OAUTH_COMPLETE_GUIDE.md)** - ุฏููู ุดุงูู ูุน ููุทุงุช ุดุงุดุฉ
- **[OAUTH_SETUP.md](OAUTH_SETUP.md)** - ุฎุทูุงุช ุณุฑูุนุฉ
- **[SERVER_OAUTH_INTEGRATION.md](SERVER_OAUTH_INTEGRATION.md)** - ุชูุงูู ุงูุณูุฑูุฑ

## โ๏ธ ููู ูุนูู ุงููุธุงู ุงูุขู

### ูุณุงุฑ ุชุณุฌูู ุงูุฏุฎูู:

```
ุงููุณุชุฎุฏู ูุถุบุท ุนูู ุฒุฑ Google/Facebook
         โ
ูุชู ุชุญูููู ุฅูู ุตูุญุฉ Google/Facebook
         โ
ุงููุณุชุฎุฏู ููุงูู ุนูู ุงูุฃุฐููุงุช
         โ
ูุชู ุฅุฑุฌุงุนู ุฅูู: /api/auth/callback/google
         โ
NextAuth ูุนุงูุฌ ุงูู callback
         โ
signIn callback ูุญูุธ ุงูุจูุงูุงุช ูู ุงูุณูุฑูุฑ
         โ
ูุชู ุญูุธ token ูู localStorage
         โ
ูุชู ุชุญููู ุงููุณุชุฎุฏู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

### ูุง ูุญุฏุซ ูู ุงูุฎูููุฉ:

1. **NextAuth** ูุชุนุงูู ูุน OAuth flow
2. **signIn callback** ูุฑุณู ุจูุงูุงุช ุงููุณุชุฎุฏู ุฅูู ุงูุณูุฑูุฑ
3. **ุงูุณูุฑูุฑ** ูุญูุธ/ูุญุฏุซ ุจูุงูุงุช ุงููุณุชุฎุฏู ููุฑุฌุน JWT token
4. **Frontend** ูุญูุธ token ูู localStorage
5. **API calls** ุงูุชุงููุฉ ุชุณุชุฎุฏู ูุฐุง token ูููุตุงุฏูุฉ

## ๐ ููุงุญุธุงุช ุงูุฃูุงู

โ๏ธ **ููู ุฌุฏุงู:**

1. ูุง ุชุดุงุฑู ููู `.env.local` ูุน ุฃู ุดุฎุต
2. ูุง ุชุถุน `.env.local` ูู Git (ููุฌูุฏ ูู `.gitignore`)
3. ุงุณุชุฎุฏู secrets ูุฎุชููุฉ ููุฅูุชุงุฌ ูุงูุชุทููุฑ
4. ูุง ุชุดุงุฑู Client Secrets ุฃู App Secrets

## โ ุญู ุงููุดุงูู

### ุงููุดููุฉ: "Invalid redirect_uri"
โ **ุงูุญู:** ุชุฃูุฏ ูู ุฃู Redirect URI ูู Google/Facebook ูุทุงุจู ุชูุงูุงู URL ุงููุณุชุฎุฏู

### ุงููุดููุฉ: ุงูุฒุฑ ูุง ูุนูู
โ **ุงูุญู:** 
1. ุงูุชุญ Console ูู ุงููุชุตูุญ (F12)
2. ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฃุฎุทุงุก
3. ุชุฃูุฏ ูู ุชุญุฏูุซ `.env.local` ุจุงูููู ุงูุตุญูุญุฉ
4. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู

### ุงููุดููุฉ: "App not setup"
โ **ุงูุญู:** ูู Facebook Developersุ ุชุฃูุฏ ูู ุฅุถุงูุฉ Facebook Login product

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุฑุงุฌุน ูุณู "ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ" ูู `OAUTH_COMPLETE_GUIDE.md`
2. ุชุญูู ูู Console logs ูู ุงููุชุตูุญ
3. ุชุญูู ูู Terminal logs ุญูุซ ูุนูู `npm run dev`
4. ุดุบูู ุณูุฑูุจุช ุงูุงุฎุชุจุงุฑ: `node scripts/test-oauth-config.js`

---

**ุงูุญุงูุฉ ุงูุญุงููุฉ:** โ ุงูููุฏ ุฌุงูุฒ - ุชุญุชุงุฌ ููุท ุฅูู ุฅุถุงูุฉ Client IDs ู Secrets ุงูุญููููุฉ!
